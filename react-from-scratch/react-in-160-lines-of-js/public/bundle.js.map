{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./gooact.js","webpack:///./index.jsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","setAttribute","dom","startsWith","eventType","slice","toLowerCase","__gooactHandlers","removeEventListener","addEventListener","assign","style","__gooactKey","render","vdom","parent","mount","el","appendChild","document","createTextNode","type","Component","createElement","child","concat","children","prop","props","Error","patch","parentNode","replace","replaceChild","Text","textContent","nodeName","toUpperCase","pool","active","activeElement","childNodes","map","index","instance","__gooactInstance","componentWillUnmount","remove","attr","attributes","removeAttribute","focus","constructor","this","state","isPrototypeOf","componentWillMount","base","componentDidMount","componentWillReceiveProps","ndom","setState","next","compat","a","shouldComponentUpdate","prevState","componentWillUpdate","componentDidUpdate","nextProps","nextState","prevProps","Title","console","log","getElementById","id","TodoItem","className","text","href","onClick","Todo","super","input","items","handleAdd","handleInput","e","target","newItems","push","Math","random","handleRemove","splice","item","onInput","App","counter","onIncrease","onDecrease"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/* Gooact by SweetPalma, 2018. All rights reserved. */\n(() => { 'use strict';\n\nconst createElement = (type, props, ...children) => {\n    if (props === null) props = {};\n    return {type, props, children};\n};\n\nconst setAttribute = (dom, key, value) => {\n    if (typeof value == 'function' && key.startsWith('on')) { //case1. event handler 적용\n        const eventType = key.slice(2).toLowerCase();\n        dom.__gooactHandlers = dom.__gooactHandlers || {};\n        dom.removeEventListener(eventType, dom.__gooactHandlers[eventType]);\n        dom.__gooactHandlers[eventType] = value;\n        dom.addEventListener(eventType, dom.__gooactHandlers[eventType]);\n    } else if (key == 'checked' || key == 'value' || key == 'className') { //case2. button check 관련\n        dom[key] = value;\n    } else if (key == 'style' && typeof value == 'object') { //case3. css style 적용\n        Object.assign(dom.style, value);\n    } else if (key == 'ref' && typeof value == 'function') { //case4. a href 관련\n        value(dom);\n    } else if (key == 'key') { //case5. 쌩 key value 관련 인듯?\n        dom.__gooactKey = value;\n    } else if (typeof value != 'object' && typeof value != 'function') { //case6. 임의의 attribute 부여한 것인듯? \n        dom.setAttribute(key, value);\n    }\n};\n\nconst render = (vdom, parent=null) => {\n    const mount = parent ? (el => parent.appendChild(el)) : (el => el);\n    if (typeof vdom == 'string' || typeof vdom == 'number') { //case1. 123 or 'hello' -> plain text nodes\n        return mount(document.createTextNode(vdom));\n    } else if (typeof vdom == 'boolean' || vdom === null) { //case2. <div></div> -> plain text nodes\n        return mount(document.createTextNode(''));\n    } else if (typeof vdom == 'object' && typeof vdom.type == 'function') { //case3. <CustomTitle> ... </CustomTitle> -> recursive, render()\n        return Component.render(vdom, parent);\n    } else if (typeof vdom == 'object' && typeof vdom.type == 'string') { //case4. when it starts with <div>, <ul>, etc... and has children -> recursive render() for its children, along with adding attributes \n        const dom = mount(document.createElement(vdom.type));\n        for (const child of [/* flatten */].concat(...vdom.children))\n            render(child, dom);\n        for (const prop in vdom.props)\n            setAttribute(dom, prop, vdom.props[prop]);\n        return dom;\n    } else {\n        throw new Error(`Invalid VDOM: ${vdom}.`);\n    }\n}\n\n\nconst patch = (dom, vdom, parent=dom.parentNode) => {\n    const replace = parent ? el => (parent.replaceChild(el, dom) && el) : (el => el);\n    if (typeof vdom == 'object' && typeof vdom.type == 'function') { //case1. complex DOM + complex VDOM = recursive patch(); \n        return Component.patch(dom, vdom, parent);\n    } else if (typeof vdom != 'object' && dom instanceof Text) { //case2. text DOM + primitive VDOM = if their contents diffs, full re-render\n        return dom.textContent != vdom ? replace(render(vdom, parent)) : dom; \n    } else if (typeof vdom == 'object' && dom instanceof Text) { //case3. text DOM + Complex VDOM = full re-render\n        return replace(render(vdom, parent));\n    } else if (typeof vdom == 'object' && dom.nodeName != vdom.type.toUpperCase()) { //case4. DOM and VDOM different types && complex VDOM -> full re-render\n        return replace(render(vdom, parent));\n    } else if (typeof vdom == 'object' && dom.nodeName == vdom.type.toUpperCase()) { //case5. highlight. DOM and VDOM same types && complex VDOM -> children reconciliation. \n        const pool = {};\n        const active = document.activeElement;\n        [].concat(...dom.childNodes).map((child, index) => {\n            const key = child.__gooactKey || `__index_${index}`; //tree에 넣어진 순서를 비교하네?\n            pool[key] = child; //일단 pool에 DOM의 element들을 key:value로 넣어둠\n        });\n        [].concat(...vdom.children).map((child, index) => {\n            const key = child.props && child.props.key || `__index_${index}`; //props 이름이 key가 되어 DOM의 요소들의 props 이름(key)와 비교됨.(없다면 tree에 넣어진 순서 비교) \n            dom.appendChild(pool[key] ? patch(pool[key], child) : render(child, dom)); //recursive로 DOM에서 pool로 child 넣었으면, patch(pool[key], child)로 재 비교하고, VDOM에는 있는 child가 DOM에 없어서 pool[key]에 없다면, render(VDOM_child, dom) 한다. \n            delete pool[key]; //렌더 했으니 값 만 일단 제거. 키는 살려두네? memoization. \n        });\n        for (const key in pool) {\n            const instance = pool[key].__gooactInstance; //바로 위에서 DOM child랑 VDOM child 비교할 때, pool[key] delete하고 남은 key들을 여기서 깔끔히 지워주는거 갑네. 근데 왜 위에서 지우지 번거롭게 여기서 따로 지우지? 아 delete pool[key]하면 키는 남기고 값만 지워지는데, 같은 키가 여러번 나올 수 있으니까. div 같은 애들 재활용 하려고 하는거구나! \n            if (instance) instance.componentWillUnmount(); //아 그게 아니라 value가 DOM의 child 그 자체네. 비교했을 때, 없는 애들을 일괄삭제해주는 애구나. \n            pool[key].remove();\n        }\n        for (const attr of dom.attributes) dom.removeAttribute(attr.name); //attributes는 비교 안하고 싹 다 지운다음에 \n        for (const prop in vdom.props) setAttribute(dom, prop, vdom.props[prop]); //전부 다시 부여하네 \n        active.focus(); //dom tree에서 이리저리 이동했으니, 마지막으로 active했던 tree node로 복원시키는 것 \n        return dom;\n    }\n};\nclass Component {\n    constructor(props) { //takes props as parameter \n        this.props = props || {}; //stores read-only props \n        this.state = null; //stores changing state \n    }\n\n    static render(vdom, parent=null) {\n        const props = Object.assign({}, vdom.props, {children: vdom.children});\n        if (Component.isPrototypeOf(vdom.type)) {\n            const instance = new (vdom.type)(props);\n            instance.componentWillMount(); //react lifecycle - before render\n            instance.base = render(instance.render(), parent);\n            instance.base.__gooactInstance = instance;\n            instance.base.__gooactKey = vdom.props.key;\n            instance.componentDidMount(); //react lifecycle- after render \n            return instance.base;\n        } else {\n            return render(vdom.type(props), parent);\n        }\n    }\n\n    static patch(dom, vdom, parent=dom.parentNode) {\n        const props = Object.assign({}, vdom.props, {children: vdom.children});\n        if (dom.__gooactInstance && dom.__gooactInstance.constructor == vdom.type) {\n            dom.__gooactInstance.componentWillReceiveProps(props); //react lifecycle method \n            dom.__gooactInstance.props = props;\n            return patch(dom, dom.__gooactInstance.render(), parent);\n        } else if (Component.isPrototypeOf(vdom.type)) { //VDOM이 extends Component한 리엑트 컴포넌트면 \n            const ndom = Component.render(vdom, parent); //새로운 DOM에 render() 이후, \n            return parent ? (parent.replaceChild(ndom, dom) && ndom) : (ndom); //기존 DOM과 갈아끼운다 \n        } else if (!Component.isPrototypeOf(vdom.type)) { //VDOM이 리엑트 컴포넌트가 아니면, \n            return patch(dom, vdom.type(props), parent); //patch() \n        }\n    }\n\n    setState(next) {\n        const compat = (a) => typeof this.state == 'object' && typeof a == 'object';\n        if (this.base && this.shouldComponentUpdate(this.props, next)) {\n            const prevState = this.state;\n            this.componentWillUpdate(this.props, next); //fire all lifecycle method \n            this.state = compat(next) ? Object.assign({}, this.state, next) : next; //setState 이후, \n            patch(this.base, this.render()); //re-render() \n            this.componentDidUpdate(this.props, prevState); //fire all lifecycle method \n        } else {\n            this.state = compat(next) ? Object.assign({}, this.state, next) : next;\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) { //when props or state is different, return true  \n        return nextProps != this.props || nextState != this.state;\n    }\n\n    componentWillReceiveProps(nextProps) { //react lifecycle method to be overrided \n        return undefined;\n    }\n\n    componentWillUpdate(nextProps, nextState) { //react lifecycle method to be overrided \n        return undefined;\n    }\n\n    componentDidUpdate(prevProps, prevState) { //react lifecycle method to be overrided\n        return undefined;\n    }\n\n    componentWillMount() { //react lifecycle method to be overrided \n        return undefined;\n    }\n\n    componentDidMount() { //react lifecycle method to be overrided \n        return undefined;\n    }\n\n    componentWillUnmount() { //react lifecycle method to be overrided \n        return undefined;\n    }\n};\n\nif (typeof module != 'undefined') module.exports = {createElement, render, Component};\nif (typeof module == 'undefined') window.Gooact  = {createElement, render, Component};\n\n})();\n","import Gooact, { render, Component } from './gooact';\n\nclass Title extends Component {\n    componentDidMount() {\n        console.log('title');\n        console.log(document.getElementById('title'));\n    }\n\n    render() {\n        return (\n            <h1 id=\"title\">{this.props.children}</h1>\n        );\n    }\n}\n\nclass TodoItem extends Component {\n    render() {\n      return <li className=\"todo__item\">\n        <span>{this.props.text} - </span>\n        <a href=\"#\" onClick={this.props.onClick}>X</a>\n      </li>;\n    }\n  }\n  \n  class Todo extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        input: '',\n        items: [],\n      };\n      this.handleAdd('Goal #1');\n      this.handleAdd('Goal #2');\n      this.handleAdd('Goal #3');\n    }\n    \n    handleInput(e) {\n      this.setState({\n         input: e.target.value,\n         items: this.state.items,\n      });\n    }\n    \n    handleAdd(text) {\n      const newItems = [].concat(this.state.items);\n      newItems.push({\n        id: Math.random(),\n        text,\n      });\n      this.setState({\n        input: '',\n        items: newItems,\n      });\n    }\n    \n    handleRemove(index) {\n      const newItems = [].concat(this.state.items);\n      newItems.splice(index, 1);\n      this.setState({\n        input: this.state.input,\n        items: newItems,\n      });\n    }\n    \n    render() {\n      return <div className=\"todo\">\n        <ul className=\"todo__items\">\n          {this.state.items.map((item, index) => <TodoItem\n            key={item.id}\n            text={item.text}\n            onClick={e => this.handleRemove(index)}\n          />)}\n        </ul>\n        <input type=\"text\" onInput={e => this.handleInput(e)} value={this.state.input}/>\n        <button onClick={e => this.handleAdd(this.state.input)}>Add</button>\n      </div>;\n    }\n  }\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {counter: 0};\n        this.onIncrease = this.onIncrease.bind(this);\n        this.onDecrease = this.onDecrease.bind(this);\n    }\n\n    componentDidMount() {\n        console.log('app');\n    }\n\n    onIncrease() {\n        this.setState({counter: this.state.counter + 1});\n    }\n\n    onDecrease() {\n        this.setState({counter: this.state.counter - 1});\n    }\n\n    render() {\n        const {counter} = this.state;\n        return (\n            <div>\n                <Title>Hello Gooact!!!!</Title>\n                <p>\n                    <button onClick={this.onDecrease}>-</button>\n                    {' '}Counter: {counter}{' '}\n                    <button onClick={this.onIncrease}>+</button>\n                </p>\n\n                <br />\n                <br />\n                <br />\n                \n                <Title>Todo!!!</Title>\n                <Todo />\n            </div>\n        );\n    }\n}\n\nrender(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}